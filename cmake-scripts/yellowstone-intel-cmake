# Notes on yellowstone build
# (confirmed on Jan 24, 2014 by WJS)

# cmake configuration script that works on yellowstone with intel
# This script needs to be run from a subdirectory (e.g. cmake-scripts)
# of the main seacism repository (reflected in the several 
# instances of # ".." below).

# (1) before executing this script, load these modules:            

# module purge
# module load ncarenv/1.0
# module load ncarbinlibs/1.0
# module load intel/13.1.2
# module load mkl/11.0.1
# module load trilinos/11.0.3
# module load netcdf-mpi/4.3.0
# module load ncarcompilers/1.0
# module load pnetcdf/1.3.0
# module load cmake/2.8.10.2
# module load python
# module load all-python-libs

#
# (2) After this executes, do:
#   make -j 8
#   cp example-drivers/simple_glide/src/simple_glide .

rm ./CMakeCache.txt

echo
echo "Doing CMake Configuration step"

cmake \
  -D GLIMMER_TRILINOS_DIR=$TRILINOS_PATH \
  -D GLIMMER_NETCDF_DIR=$NETCDF \
  -D CISM_FORCE_FORTRAN_LINKER:BOOL=ON \
  -D CMAKE_VERBOSE_MAKEFILE:BOOL=OFF \
 ..

# Note: last argument above  ".."  is path to top seacism directory 
 
